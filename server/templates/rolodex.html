{% extends "base.html" %}

{% block title %}Rolodex - Hyperindex{% endblock %}

{% block extra_css %}
  <link rel="stylesheet" href="{{ url_for('static', path='rolodex.css') }}">
{% endblock %}

{% block body_class %}theme-rolodex{% endblock %}

{% block content %}
  <h1>Welcome, {{ user.username }}</h1>

  <section aria-labelledby="new-entry">
    <h2 id="new-entry">Add a New Entry</h2>
    <p><a href="/rolodex/new">Go to entry form â†’</a></p>
  </section>

  <hr>

  <section aria-labelledby="your-entries">
    <h2 id="your-entries">Your Entries</h2>
    {% include "partials/_filter_form.html" with context %}
    {% from "macros/filters.html" import render_filters %}
    {{ render_filters(query, selected_tag, total, page, total_pages, "/rolodex") }}


    <p>
      Showing <strong>{{ entries|length }}</strong> of <strong>{{ total }}</strong> entries
      (page {{ page }} of {{ total_pages }})
    </p>

    {% for entry in entries %}
      {% set card_index = loop.index %}
      {% set tag_prefix = '/rolodex?tag=' %}
      {% set show_actions = True %}
      {% include "partials/_entry_card.html" %}
    {% endfor %}

    {% include "partials/_pagination.html" with context %}
  </section>
{% endblock %}