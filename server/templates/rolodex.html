{% extends "base.html" %}

{% block title %}Rolodex - Hyperindex{% endblock %}

{% block extra_head %}
<link rel="stylesheet" href="/static/rolodex.css">
{% endblock %}

{% block content %}
  <h1>Welcome, {{ user.username }}</h1>

  <section aria-labelledby="add-entry-section">
    <h2 id="add-entry-section">Add a New Entry</h2>
    <p><a href="/entries/new">Go to entry form →</a></p>
  </section>

  <hr>

  <section aria-labelledby="your-entries-section">
    <h2 id="your-entries-section">Your Entries</h2>

    {% if selected_tag %}
      <p>Filtering by tag: <strong>{{ selected_tag }}</strong> —
        <a href="/rolodex">Clear Filter</a>
      </p>
    {% endif %}

    <p>Showing <strong>{{ entries|length }}</strong> of <strong>{{ total }}</strong> entries (page {{ page }} of {{ total_pages }})</p>

    {% for entry in entries %}
      {% set tag_prefix = '/rolodex?tag=' %}
      {% set show_actions = True %}
      {% include "partials/entry_card.html" %}
    {% endfor %}

    {% include "partials/pagination.html" with context %}
  </section>
{% endblock %}