{% from 'macros/shared.html' import action_button %}

<div class="actions">
  {% if not entry.is_public_copy %}
    {{ action_button("Approve", "/admin/" ~ entry.id ~ "/approve", hidden_inputs={'page_pending': page_pending, 'page_public': page_public, 'page_deleted': page_deleted, 'active_tab': 'pending'}, aria_label="Approve this submission") }}
    {{ action_button("Reject", "/admin/" ~ entry.id ~ "/reject", hidden_inputs={'page_pending': page_pending, 'page_public': page_public, 'page_deleted': page_deleted, 'active_tab': 'pending'}, aria_label="Reject this submission") }}
  {% else %}
    {% if not entry.is_deleted %}
      {{ action_button("Edit", "/admin/" ~ entry.id ~ "/edit", method="GET", aria_label="Edit this public entry") }}
      {{ action_button("Delete", "/admin/" ~ entry.id ~ "/delete", confirm="Are you sure you want to delete this entry?", hidden_inputs={'page_pending': page_pending, 'page_public': page_public, 'active_tab': 'public'}, aria_label="Delete this entry") }}
    {% else %}
      {{ action_button("Restore", "/admin/" ~ entry.id ~ "/restore", hidden_inputs={'page_deleted': page_deleted, 'page_pending': page_pending, 'page_public': page_public, 'active_tab': 'deleted'}, aria_label="Restore this entry") }}
      {{ action_button("Purge", "/admin/" ~ entry.id ~ "/purge", confirm="Permanently delete this entry?", hidden_inputs={'page_deleted': page_deleted, 'page_pending': page_pending, 'page_public': page_public, 'active_tab': 'deleted'}, aria_label="Purge this entry") }}
    {% endif %}
  {% endif %}
</div>

{% if entry.owner %}
  <div class="meta">
    <strong>Owner:</strong> {{ entry.owner.username }}
  </div>
{% endif %}
